{"version":3,"sources":["components/search.js","components/entryForm.js","services/persons.js","components/printPerson.js","components/printPersons.js","components/results.js","components/notification.js","components/errorMessage.js","App.js","index.js"],"names":["Search","search","handleSearch","value","onChange","EntryForm","addPerson","newName","handleNewName","newNumber","handleNewNumber","onSubmit","type","baseUrl","axios","get","then","response","data","newPerson","post","id","delete","newObject","put","PrintPerson","person","persons","setPersons","name","number","onClick","window","confirm","personService","filter","p","catch","error","alert","PrintPersons","printPersons","map","printPerson","key","Results","length","toLowerCase","includes","Notification","message","className","ErrorMessage","style","color","background","fontSize","fontWeight","textAlign","padding","borderStyle","borderRadius","marginBottom","App","useState","setNewName","setNewNumber","setSearch","notification","setNotification","errorMessage","setErrorMessage","useEffect","event","target","preventDefault","personExists","some","existingPerson","find","setTimeout","createdPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6e0f8624.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Search = ({ search, handleSearch }) => (\r\n    <form>\r\n      <div>\r\n        filter shown with \r\n        <input\r\n          value={search}\r\n          onChange={handleSearch}\r\n        />\r\n      </div>\r\n    </form>\r\n  );\r\n\r\nexport default Search;\r\n","import React from 'react';\r\n\r\nconst EntryForm = ({ addPerson, newName, handleNewName, newNumber, handleNewNumber }) => (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input\r\n          value={newName}\r\n          onChange={handleNewName}\r\n        /></div>\r\n      <div>\r\n        number: <input\r\n          value={newNumber}\r\n          onChange={handleNewNumber}\r\n        /></div>\r\n      <div><button type=\"submit\">add</button></div>\r\n    </form>\r\n  )\r\n\r\nexport default EntryForm;","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst del = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll: getAll,\r\n    create: create,\r\n    delete: del,\r\n    update: update\r\n};","import React from 'react';\r\nimport personService from '../services/persons'\r\n\r\nconst PrintPerson = ({ person, persons, setPersons }) => {\r\n\r\n    return (\r\n        <p>{person.name} {person.number} &nbsp;\r\n            <button onClick={() => {\r\n                if (window.confirm(`Delete ${person.name}?`)) {\r\n                    personService.delete(person.id)\r\n                        .then(setPersons(persons.filter(p => p.id !== person.id)))\r\n                        .catch(error => {\r\n                            /*Should not ever be needed, but is fail safe is bugs occur*/\r\n                            alert(`usser ${person.name} was already deleted from the server`)\r\n                        }\r\n                        )\r\n                }\r\n            }}>\r\n                delete\r\n    </button></p>\r\n    )\r\n}\r\nexport default PrintPerson;","import React from 'react';\r\nimport PrintPerson from './printPerson';\r\n\r\nconst PrintPersons = ({ printPersons, setPersons }) => (\r\n  printPersons.map((printPerson) =>\r\n    <PrintPerson\r\n      key={printPerson.id}\r\n      person={printPerson}\r\n      setPersons={setPersons}\r\n      persons={printPersons}\r\n    />)\r\n);\r\n\r\nexport default PrintPersons;","import React from 'react';\r\nimport PrintPersons from './printPersons';\r\n\r\n//Show all results if there is no search query, or \r\n//search from names and numbers\r\nconst Results = ({ search, persons, setPersons }) => (\r\n  (search.length === 0)\r\n    ? <PrintPersons\r\n      printPersons={persons}\r\n      setPersons={setPersons} />\r\n    : <PrintPersons\r\n      printPersons={persons.filter(person =>\r\n        person.name.toLowerCase().includes(search.toLowerCase())\r\n        || person.number.includes(search))}\r\n      setPersons={setPersons} />\r\n);\r\n\r\nexport default Results","import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <div className=\"error\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react';\r\n\r\nconst ErrorMessage = ({message}) => {\r\n    const messageStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 25,\r\n        fontWeight: 'bold',\r\n        textAlign: 'center',\r\n        padding: 30,\r\n        borderStyle: 'solid',\r\n        borderRadius: 10,\r\n        marginBottom: 40\r\n    }\r\n\r\n    if (message === null) {\r\n        return (\r\n            null\r\n        )\r\n    }\r\n    return (\r\n        <div style={messageStyle}>\r\n            <em>{message}</em>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorMessage;","import React, { useState, useEffect } from 'react'\r\nimport Search from './components/search';\r\nimport EntryForm from './components/entryForm';\r\nimport Results from './components/results';\r\nimport Notification from './components/notification';\r\nimport ErrorMessage from './components/errorMessage';\r\nimport personService from './services/persons';\r\n\r\n//Notifications are styled with index.css while errorMessages \r\n//are with inline design in ./components/errorMessage.js\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    //loop over name input\r\n    const [newName, setNewName] = useState('')\r\n    //loop over phonenumber\r\n    const [newNumber, setNewNumber] = useState('')\r\n    //loop over search\r\n    const [search, setSearch] = useState('')\r\n    const [notification, setNotification] = useState(null)\r\n    const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(response =>\r\n                setPersons(response))\r\n    }, [])\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n\r\n        const personExists = persons.some\r\n            (person => person.name.toLowerCase() === newName.toLowerCase())\r\n\r\n        const existingPerson = personExists\r\n            ?\r\n            {\r\n                ...persons.find\r\n                    (person => person.name.toLowerCase() === newName.toLowerCase()), number: newNumber\r\n            }\r\n            :\r\n            {\r\n                name: newName,\r\n                number: newNumber,\r\n                //find current largest ID in persons and increment it by 1\r\n                //off because of letting Mongo to take care of it in part3!\r\n                //id: persons.reduce((max, person) => (person.id > max ? person.id : max), persons[0].id) + 1\r\n            }\r\n\r\n        personExists ?\r\n            window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`) &&\r\n            (personService.update(existingPerson.id, existingPerson)\r\n                .then\r\n                ((setPersons\r\n                    (persons.map(person =>\r\n                        person.name.toLowerCase() !== existingPerson.name.toLowerCase()\r\n                            ? person\r\n                            : existingPerson)),\r\n                    setNewName(''),\r\n                    setNewNumber(''))))\r\n                .catch(error => {\r\n                    setErrorMessage(`Information of ${existingPerson.name} has already been removed from server`)\r\n                    setTimeout(() => {\r\n                        setErrorMessage(null)\r\n                    }, 5000)\r\n                })\r\n            :\r\n            (personService\r\n                .create(existingPerson)\r\n                .then(createdPerson => {\r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                    setPersons(persons.concat(createdPerson))\r\n                    setNotification(`Added ${createdPerson.name}`)\r\n                    setTimeout(() => {\r\n                        setNotification(null)\r\n                    }, 5000)\r\n                })\r\n                .catch(error => {\r\n                    setErrorMessage(error.response.data.error)\r\n                    setTimeout(() => {\r\n                        setErrorMessage(null)\r\n                    }, 5000)\r\n                })\r\n            )\r\n\r\n    };\r\n\r\n    const handleNewName = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNewNumber = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleSearch = (event) => {\r\n        setSearch(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={notification} />\r\n            <ErrorMessage message={errorMessage} />\r\n            <Search search={search} handleSearch={handleSearch} />\r\n\r\n            <h2>Add a new</h2>\r\n            <EntryForm\r\n                addPerson={addPerson}\r\n                handleNewName={handleNewName}\r\n                handleNewNumber={handleNewNumber}\r\n                newName={newName}\r\n                newNumber={newNumber} />\r\n\r\n            <h2>Numbers</h2>\r\n            <Results\r\n                search={search}\r\n                persons={persons}\r\n                setPersons={setPersons} />\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}